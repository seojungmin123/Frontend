# 정규 표현식(Regular Expression)

<br>

참고
- [https://inpa.tistory.com/entry/JS-%F0%9F%93%9A-%EC%A0%95%EA%B7%9C%EC%8B%9D-RegExp-%EB%88%84%EA%B5%AC%EB%82%98-%EC%9D%B4%ED%95%B4%ED%95%98%EA%B8%B0-%EC%89%BD%EA%B2%8C-%EC%A0%95%EB%A6%AC
]
- [https://spare8433.tistory.com/109]

문자열에서 특정 내용을 찾거나 대체 또는 발췌하는데 사용

- 각각 다른 포맷의 전화번호 데이터를 추출해야할 때
- 입력받은 이메일, 휴대폰번호, IP주소 등이 올바른지 검증해야할 때
- 문자열에 포함된 공백이나 특수문자를 조건에 따라 제거하고 싶을 때

<br>

## 방식

1. 생성자 함수 방식
```js
new RegExp('표현식','옵션(플래그)')

let regexp1 = new RegExp('hi','');
regexp1 = new RegExp('hi','gi');
```

2. 리터럴 표기 방식 (더 많이 씀)
```js
/표현식/옵션

let regexp2 = /hi/;
regexp2 = /hi/gi;
```

<br>

## 옵션(플래그)
옵션|뜻|설명|
---|---|---|
i|Ignore Case|대소문자를 구별하지 않음
g|global|문자열 내의 모든 패턴 검색
m|Multi Line|문자열의 행이 바뀌더라도 검색
s|  |.(모든 문자 정규식)이 개행 문자 \n도 포함하도록
u|unicode|유니코드 전체를 지원
y|sticky|문자 내 특정 위치에서 검색을 진행 

<br>

### g : 전역검색
- 전역 검색 플래그가 없는 경우, 최초 검색 결과 한번만 반환
- 전역 검색 플래그가 있는 경우, 모든 검색 결과를 배열로 반환
```js
const str = "abcabc";

console.log(str.match(/a/)); // ["a", index: 0, input: "abcabc", groups: undefined]

console.log(str.match(/a/g)); // ["a", "a"]
```

<br>

### m : 줄바꿈 검색
- 여러 줄의 문자열에서 필터링 해야 할때 사용
- 입력 시작(^) 앵커나 입력 종료($) 앵커는 전체 문자열이 아닌 각 줄별로 대응되기 때문에 <br>
여러줄을 검색해야한다면 m 플래그를 사용
```js
const str = "Hello World and\nPower Hello?\nPower Overwhelming!!";
/*
Hello World and
Power Hello?
Power Overwhelming!!
*/

// Hello 단어로 시작하는지 검사 (^ 문자는 문장 시작점을 의미)
str.match(/^Hello/); // ["Hello"]
// 첫번째 줄은 잘 찾음

// Power 단어로 시작하는지 검사 (^ 문자는 문장 시작점을 의미)
str.match(/^Power/); // null
// 다음 줄은 검색 X

// m 플래그를 사용해 개행되는 다음 줄도 검색
str.match(/^Power/m); // ['Power']

// g 플래그와 혼합 사용하여 세번째 줄도 검색
str.match(/^Power/gm); // ['Power', 'Power']
```

<br>

### i : 대소문자 구분 없음
- 정규식은 기본적으로 대소문자를 구분(Case sensitive)
- 대신 i 플래그를 사용해 대소문자를 구분하지 않을수 있음

```js
const str = "abcABC";

str.match(/a/gi); // ["a", "A"]
```

<br>

## 정규식 패턴/기호

### 정규식 특정 문자,숫자 매칭 패턴

패턴|의미|
---|---|
a-zA-Z|영어알파벳(-으로 범위지정)
ㄱ-ㅎ가-힣|한글 문자(-으로 범위지정)
0-9|숫자(-으로 범위지정)
.|모든 문자열(숫자, 한글, 영어, 특수기호, 공백)<br>줄바꿈X
\d|숫자
\D|숫자가 아닌 것
\w|밑줄 문자를 포함한 영숫자 ㅁ누자에 대응<br>[A-Za-z0-9_] 와 동일
\s|space 공백
\S|space 공백이 아닌 것
\특수기호|\\* \\^ \\% \\! \\? ... 등등
\b|63개 문자(영어 대소문자 52개 + 숫자 10개 + _(언더바))가 아닌 나머지 문자에 일치하는 경계
\B|63개 문자에 일치하는 경계
\x|16진수 문자에 일치<br>/\x61/ = a
\0|8진수 문자에 일치<br>/\141/ = a
\u|유니코드 문자에 일치<br>/\u0061/ = a
\c|제어(control) 문자에 일치
\f|폼 피드(FF, U+000C) 문자에 일치
\n줄 바꿈(LF, U+000A) 문자에 일치
\r|캐리지 리턴(CR, U+000D) 문자에 일치
\t|탭 (U+0009) 문자에 일치

<br>

### 정규식 검색 기준 패턴

기호|의미|
---|---|
\||or
[]|괄호안의 문자들 중 하나
[^문자]|괄호안의 문자를 제외한 것
^문자열|특정 문자열로 시작(시작점)
문자열$|특정 문자열로 끝남(종착점)

<br>

### 정규식 검색 기준 패턴

기호|의미|
---|---|
?||없거나 or 최대 한개만
*|없거나 or 있거나(여러개)
+|최소 한개 or 여러개
*?|가능한 적은 문자와 일치(0 ~ n)개수
+?|가능한 적은 문자와 일치 (1 ~ n)개수
{n}|n개
{Min,}|최소 Min개 이상
{Min, Max}|최소 Min개 이상, 최대 Max개 이하, {3,5}? == {3}와 동일